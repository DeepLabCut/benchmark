
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How to submit your models to the benchmark &#8212; DeepLabCut benchmark</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="DeepLabCut Benchmark datasets" href="datasets.html" /> 
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js" integrity="sha512-qzgd5cYSZcosqpzpn7zF2ZId8f/8CHmFKZ8j7mU4OUXTNRd5g+ZHBPsgKEwoqxCtdQvExE5LprwwPAgoicguNg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script>
      $(function() {
        $("#myTable").tablesorter();
      });
    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/dlc-logo-violet.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index.html">
  Leaderboard
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="datasets.html">
  Datasets
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  Submission
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://deeplabcut.org/">DeepLabCut<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/deeplabcut/benchmark" rel="noopener" target="_blank" title="Github">
            <span><i class="fab fa-github"></i></span>
            <label class="sr-only">Github</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/DeepLabCut" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <div class="col-12 col-md-1 col-xl-2 bd-sidebar no-sidebar"></div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-11 col-xl-8 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="how-to-submit-your-models-to-the-benchmark">
<h1>How to submit your models to the benchmark<a class="headerlink" href="#how-to-submit-your-models-to-the-benchmark" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">deeplabcut.benchmark</span></code> package is not yet publicly released. Instructions on this page will be
updated accordingly after release. The package will be part of DeepLabCut.</p>
</div>
<div class="section" id="submitting-a-model">
<h2>Submitting a model<a class="headerlink" href="#submitting-a-model" title="Permalink to this headline">¶</a></h2>
<p>We offer two evaluation types: To get started, file-based evaluations are easy to integrate into existing code bases.</p>
<div class="section" id="file-based-evaluations">
<h3>File-based Evaluations<a class="headerlink" href="#file-based-evaluations" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is a draft. More instructions will be added soon.</p>
</div>
<p>File-based evaluations are the easiest form to get started with the DLC Benchmark. You can develop and evaluate your model in your own compute environment, and simply submit an evaluation file to the DLC Benchmark.</p>
<p>No additional packages are needed besides the latest version of <code class="docutils literal notranslate"><span class="pre">deeplabcut</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">deeplabcut.benchmark</span>

<span class="c1"># Load the challenge dataset(s) for your choice:</span>
<span class="n">challenge</span> <span class="o">=</span> <span class="n">deeplabcut</span><span class="o">.</span><span class="n">benchmark</span><span class="o">.</span><span class="n">Challenge</span><span class="p">(</span><span class="s1">&#39;maDLC&#39;</span><span class="p">)</span>

<span class="c1"># Load your model: This contains your custom code, computing predictions</span>
<span class="c1"># based on the passed images.</span>
<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">deeplabcut</span><span class="o">.</span><span class="n">benchmark</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

   <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># Set up your model here</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">make_my_custom_model</span><span class="p">()</span>

   <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">video</span><span class="p">):</span>
      <span class="c1"># Compute the keypoints with the model you loaded in prepare()</span>
      <span class="n">keypoints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">(</span><span class="n">video</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">keypoints</span>

<span class="c1"># Evaluate your model on the benchmark</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">challenge</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">predict_pose</span><span class="p">)</span>

<span class="c1"># Check the results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<p>If you are happy with the results, upload your results to the benchmark:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="code-based-evaluations">
<h3>Code-based Evaluations<a class="headerlink" href="#code-based-evaluations" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section is a draft. More instructions will be added soon.</p>
</div>
<p>We use <a href="#id1"><span class="problematic" id="id2">Docker_</span></a> for code-based evaluations, to ensure maximum flexibility for developers and reproducibility of results across platforms.</p>
<p>To prepare your submission, your codebase should have a <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> in its top-level directory with build instructions. We strongly recommend to keep the image size added by the <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> small by making use of containers from the <a class="reference external" href="https://hub.docker.com/">Dockerhub</a>.</p>
<p>After preparing your codebase, run the benchmark with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m deeplabcut.benchmark evaluate /path/to/codebase --challenge maDLC
</pre></div>
</div>
<p>which writes a result file to the current directory.
Check the results using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m deeplabcut.benchmark summary
</pre></div>
</div>
<p>and upload your results to the benchmark page using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m deeplabcut.benchmark upload
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, DeepLabCut Developers.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>